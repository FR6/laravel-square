language: php
sudo: false
php:
  - 7.0
  - 7.1
  - 7.2

env:
    global:
        secure: "UPfpzvyZDVXPQLG5kNODGRiWiWYDUyvy3mUOXfesmN33eDtpJeJJsQEhf/o3AHJEzl5Z8dNu0PXJxNfdgZ1o9//qTqfwc7MjIjLQF3xD3sxzex3ysgE4JeJA96+tqXdLJ6VznXdGKOfB/c1ICvNp0N16hrlNf5F6QLHJJL5dBJ5UFHM4BdUo6oKJk/x0oVVY8M02NR6nbm15L2KkuxnPvbO6XRPbm8oKlB5M0E+m2eTPQYHsIDIZ1D5sVYnpBAR95+bXjH3GLDKkpxpJ2bS2Uqz1S1Rjb3hQRv3ZS2iyMSn/GnCYDadAr1EEr6tMmUoL22mU5E2BLwtkGodJd9P3xVKPw4JGrNQdwPyvl0nuCKibM3B3E1DDxSKs3v2XeGJw0X7r5Np5/GTBtoXvJbAK+0eIXSDhAWwf5CFb6olZb/y3GHPfc3MxxWaVOmPqCLx7gCNF1Xcuk0jvAYKTv86yF+qaDtDfYq3zVg2aSzy1E5MuNSjUdO58lumN/vcyG1bw0oORkAjDmY2YoPCbpUFK2wjfoTRLGynKeYswxSQw+OKYn0RGmJCBdIj4473czodB+lE//4VBMO0pcaqVoLco/nWjNhsX6wpBq1ztBg57OEkJKpLaeRIPZz1tDi+aIQgvzuOaQY69A5QjSijl4pbq7CkkExCQKyJUv5CTRE1hxiw="

addons:
  code_climate:
    repo_token:
        secure: "RnnIrzTkNYZn5ocWr8dIenHBFk/cwzF4AUvgHMZQlsHtgFclIX204xMEHL0bF+DR1XJNYqNE7Dk7Oqt1bt62ht7eTmOsOKhxcoDirbjp1We0o24ZyRIoso9qUg4YoDlc0K+QPx/u6OZHRkLny2+BHKPpLDV3MMSBo+n8MZJ1WiVqBpuHmlT3WV4kfeBpZoLDxbfVfFlczP27BV9M6anlT6ntsdR6HmqHruFQKvN+ulH5VFbBrQEEHsq/+zpcepS6rumoDhvD2BxjHGV046/GQSEiAcCEwsmgeSFilz2QqVXEx/xlJVqwCSxoih63e7uBfEgRPTuQ3CEsKVhnPzy1T72xqRsHOoYpQO//nXSER5LFlW7Sul2W1Zvzbco6LKQ4RXrdVzh3olCzBo8Ze4nkiHdsdUHkK0mM9ckR3WWWbFpmK0R4eACwzrpZC+7GUZmG+Xzipa716Bx9kT3XtOzlzOSWRlsLDlBML9LnkK6V1QOhgeotl6QqXcTWxnzPB9Dbjm0gF0Tpv+DSn9zRMvR2P1eKr7JFGiy4/FZ0W0aMd1HZPYRI7vwBHABRx2sgo7p5QFEoP/VmC73qRBVmCemPbF4R9hp0hhGrV7HHfb2DL1NjagkHdPDAIteHXpDc37EyP6ZH2JS/svCXTjq9HlpOnWaT85mq6EQxHZi7Xva46QY="

before_script:
  - cp .env.testing .env
  - composer self-update
  - composer update --no-scripts

script:
  - vendor/bin/phpunit

after_script:
  - vendor/bin/test-reporter

# allow_failures: Allow this build to fail under the specified environments.
# fast_finish: If your build fails do not continue trying to build, just stop.
matrix:
  fast_finish: true

# Customize when the notification emails are sent.
notifications:
    on_success: always
    on_failure: always